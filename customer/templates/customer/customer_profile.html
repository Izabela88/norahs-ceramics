{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'customer/css/style.css' %}">
{% endblock %}

{% block content %}
<section class="customer-profile-section">
  {% if messages %}
    <ul class="info-msg">
        {% for message in messages %}
            <li>{{ message.message }}</li>
        {% endfor %}
    </ul>
  {% endif %}
  <div class="customer-bg-img">
    <img src="{% static 'images/bg.jpg' %}" alt="">
  </div>
  <div class="customer-container">
    <div class="box">
      <!-- ---------PERSONAL INFORMATION--------------------->
      <form class="personal-form" method="post">
        <p class="personal-heading">Personal Information</p>
        {% csrf_token %}
          <label class="profile-label">First Name</label>
          {{personal_information_form.first_name}}
          {% if personal_info_form_errors and 'first_name' in personal_info_form_errors %}
            <div class="error-profile">
              <p>{{personal_info_form_errors.first_name.0}}</p>
            </div>
          {% endif %}
          <label class="profile-label">Last Name</label>
          {{personal_information_form.last_name}}
          {% if personal_info_form_errors and 'last_name' in personal_info_form_errors %}
            <div class="error-profile">
              <p>{{personal_info_form_errors.last_name.0}}</p>
            </div>
          {% endif %}         
          <label class="profile-label">Phone number</label>
          {{personal_information_form.phone_number}}
          {% if personal_info_form_errors and 'phone_number' in personal_info_form_errors %}
            <div class="error-profile">
              <p>{{personal_info_form_errors.phone_number.0}}</p>
            </div>
          {% endif %}
          <label class="profile-label">Email</label>
          {{personal_information_form.email}}
          {% if personal_info_form_errors and 'email' in personal_info_form_errors %}
            <div class="error-profile">
              <p>{{personal_info_form_errors.email.0}}</p>
            </div>
          {% endif %}          
          <input type="hidden" name="form_type" value="profile_form" /> 
          <input class="button button-dark update-profil" type="submit" value="Update" />
      </form>
      <div class="profile-buttons">
        <a href="#" class="button button-dark">change password</a>
        <a href="#" class="button button-dark">delete account</a>
      </div>
    </div>
    <!-- ---------ADDRESS INFORMATION--------------------->
    <form class="address-form" method="post">
      <p class="address-heading">Address Information</p>
      {% csrf_token %}
        <label class="profile-label">Address 1</label>
        <input type="text" name="" id="">
        <label class="profile-label">Address 2</label>
        <input type="text" name="" id="">
        <label class="profile-label">post code</label>
        <input type="text" name="" id="">
        <label class="profile-label">town</label>
        <input type="text" name="" id="">
        <label class="profile-label">county</label>
        <input type="text" name="" id="">
        <label class="profile-label">country</label>
        <input type="text" name="" id="">
        <input type="hidden" name="form_type" value="address_form" /> 
        <input class="button button-dark update-profil" type="submit" value="Update" />
    </form>
  </div>
  
</section>
{% endblock %}

{% block extra_js %}
{{ block.super }}
<script src="{% static 'customer/js/customer.js' %}"></script>
<script>
const timeout = document.querySelector(".info-msg");
setTimeout(hideElement, 4000); //milliseconds until timeout//
function hideElement() {
  timeout.style.display = "none";
}
</script>
 
{% endblock %}